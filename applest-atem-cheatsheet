//Applest atem cheatsheet
//require applest-atem
var ATEM = require('applest-atem');

//uusi atem ja ip sille
var atem = new ATEM();
atem.connect('tähän atemin ip');

//Program vaihto
atem.on('connect', function() {
  atem.changeProgramInput('tähän uusi program numero'); // ME1(0)
});

//Preview vaihto
atem.on('connect', function() {
  atem.changePreviewInput('tähän uusi preview numero'); // ME1(0)
});

//Auto mixaus preview ---> program
atem.on('connect', function() {
  atem.autoTransition();
});

//Fade to black
atem.on('connect', function() {
  atem.fadeToBlack();
});

//Cut
atem.on('connect', function() {
  atem.cutTransition();
});

//Program inputin tilan lukeminen kun joku muuttuu atemissa (myös kun jostain muusta sovelluksesta ohjataan)
atem.on('stateChanged', function(state) {
  var msgs = atem.state.video.ME[0].programInput;
  console.log(msgs);
});

//Preview inputin tilan lukeminen kun joku muuttuu atemissa (myös kun jostain muusta sovelluksesta ohjataan)
atem.on('stateChanged', function(state) {
  var msgs = atem.state.video.ME[0].previewInput;
  console.log(msgs);
});
